<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#007bff" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="format-detection" content="telephone=no" />
    <title>Number Guessing Game</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎮</text></svg>" />
  </head>
  <body>
    <!-- Join Screen -->
    <section id="join-screen" class="card">
      <h1 class="title">Number Guessing Game</h1>
      <div class="avatar">👤</div>

      <div class="form-group">
        <label>Tên người chơi</label>
        <input type="text" id="username" placeholder="Nhập tên của bạn" />
      </div>

      <div class="form-group">
        <label>Mã phòng</label>
        <div class="room-input-group">
          <input type="text" id="room" placeholder="Nhập mã phòng hoặc để trống để tạo mới" />
          <button id="copyRoomBtn" class="btn-copy" title="Copy mã phòng">📋</button>
        </div>
        <small class="help-text">Để trống để tạo phòng mới, hoặc nhập mã phòng có sẵn</small>
      </div>

      <!-- Status message -->
      <div id="joinStatus" class="status info"></div>

      <div class="btn-group">
        <button id="createBtn" class="btn primary">Tạo phòng mới</button>
        <button id="joinBtn" class="btn success">Tham gia phòng</button>
      </div>

      <!-- Nút hiển thị danh sách phòng -->
      <div class="rooms-section">
        <button id="showRoomsBtn" class="btn secondary">📋 Xem phòng có sẵn</button>
        <div id="roomsList" class="rooms-list hidden"></div>
      </div>
    </section>

    <!-- Game Screen -->
    <section id="game-screen" class="hidden">
      <div id="gameheader" class="hidden">
        <div id="roomIdBox">RoomID: <span id="roomValue">--</span></div>
        <div id="countdownBox">⏳<span id="countdown">--</span></div>
        <button id="leaveRoomBtn" class="btn danger">🚪 Rời phòng</button>
      </div>

      <div class="container">
        <!-- Chat -->
        <aside class="card chat">
          <h2>💬 Chat</h2>
          <div class="chat-box" id="chatBox"></div>
          <div class="chat-input">
            <input type="text" id="chatMsg" placeholder="Nhập tin nhắn…" />
            <button class="btn primary" id="sendChat">Gửi</button>
          </div>
        </aside>

        <!-- Game Area -->
        <main class="card game">
          <div class="round-info">
            <h3>🎮 Vòng <span id="roundNumber">1</span></h3>
            <p class="hint">Hãy đoán số từ <span id="rangeStart">1</span>–<span id="rangeEnd">100</span></p>
          </div>
          <div class="guess-box"><p id="secrect">?</p></div>

          <div class="guess-input">
            <input type="number" id="guessInput" placeholder="Nhập số" />
            <button class="btn success" id="guessBtn">Đoán</button>
          </div>
          <p id="result" class="result"></p>
        </main>

        <!-- Leaderboard -->
        <aside class="card leaderboard">
          <h2>🏆 Leaderboard</h2>
          <ul id="leaderboardList"></ul>
        </aside>
      </div>
    </section>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="game.js"></script>
  </body>
</html>
